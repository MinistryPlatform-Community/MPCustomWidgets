/*! For license information please see customWidget.js.LICENSE.txt */
(()=>{"use strict";var e={"./src/Modules/WidgetModule.js":(e,t,r)=>{r.r(t),r.d(t,{WidgetModule:()=>n});var s=r("./src/Services/APIService.js"),i=r("./src/Services/TemplateService.js");class n{static async Init(){console.log("===> Widget Module Init..."),document.querySelectorAll('[data-component="CustomWidget"]').forEach((e=>{this.InitWidget(e)}))}static async ReinitWidget(e){var t=document.getElementById(e);this.InitWidget(t)}static async ReinitAllWidgets(){this.Init()}static checkForUser(){var e=this.getUserData();return!("null"==e||!e||e.length<10||this.getAuthExpiration()<new Date)}static getUserData(){return localStorage.getItem("mpp-widgets_AuthToken")}static getAuthExpiration(){var e=localStorage.getItem("mpp-widgets_ExpiresAfter");if(e){console.log(e);var t=Date.parse(e);return console.log(t),t}return null}static async InitWidget(e){var t=e.getAttribute("data-sp"),r=e.getAttribute("data-template"),s=e.getAttribute("data-templateId"),i=!1,n=e.getAttribute("data-cache"),o=e.getAttribute("data-host"),a=e.getAttribute("data-params"),l=!1,h=!1;e.getAttribute("data-requireUser")&&"true"===e.getAttribute("data-requireUser").toLowerCase()&&(i=!0),e.getAttribute("data-debug")&&(h=!0),e.getAttribute("data-useCalendar")&&(l=!0),o?o.indexOf(".")>-1||o.indexOf("http")>-1?console.error("Host must refer to the church prefix ONLY and cannot contain http, https, or other characters"):(l||a&&a.indexOf("@")<0&&console.warn("params must include the '@' character to correctly pass parameters to the data stored procedure"),t&&l&&console.warn("Stored Procedure and Use Calendar are configured.  In this case, only UseCalendar will be processed.  Please reivew your custom widget configuration and correct to avoid this warning."),console.info("**************************************************"),console.info(`Element ID:       ${e.id}`),console.info(`Host:             ${o}`),console.info(`Stored Procedure: ${t}`),console.info(`Params:           ${a}`),console.info(`Template:         ${r}`),console.info(`Template ID:      ${s}`),console.info(`Require User:     ${i}`),console.info(`Cache Data:       ${n}`),console.info(`Use Calendar:     ${l}`),console.info(`Params:           ${a}`),console.info(`Debug Enabled:    ${h}`),console.info("**************************************************"),this.LoadWidget(e.id,t,a,r,s,i,n,o,l,h)):console.error("Host must refer to the church prefix ONLY and cannot contain http, https, or other characters")}static async setupAuthRecheck(){if(null==this.authCheckCount&&(this.authCheckCount=0),null==this.authCheckTimer&&this.authCheckCount<4){console.info("|||===> Auth Check Scheduled");let e=this;e.authCheckTimer=window.setTimeout((function(){e.authCheckTimer=null,e.recheckAuth()}),500),e.authCheckCount++}}static async recheckAuth(){console.info("|||===> Checking Auth"),this.checkForUser()?this.ReinitAllWidgets():this.setupAuthRecheck()}static async LoadWidget(e,t,r,s,n,o,a,l,h,c){var u=document.getElementById(e);if(o&&!this.checkForUser())return u.innerHTML='<div class="alert alert-danger alert-nologin">You must be logged in to see the details of this widget.</div>',console.info("|||===> No user is logged in."),void this.setupAuthRecheck();var d;d=h?await this.LoadCalendarData(r,a,l):await this.LoadWidgetData(this.getUserData(),o,t,r,a,l),c&&(console.log("|||===> Data"),console.log(d));try{if(n){var p=document.getElementById(n),f=await i.TemplateService.GetRenderedTemplateString(p.innerText,d);u.innerHTML=f}else s?(f=await i.TemplateService.GetRenderedTemplate(s,d),u.innerHTML=f):(console.error("Error while rendering template."),console.error(err),u.innerHTML='<div class="alert alert-danger error">An error occurred while rendering the widget template</div>')}catch(e){console.error("Error while rendering template."),console.error(e),u.innerHTML='<div class="alert alert-danger error">An error occurred while rendering the widget template</div>'}var g=new CustomEvent("widgetLoaded",{detail:`${u.id}`});window.dispatchEvent(g)}static async LoadWidgetData(e,t,r,i,n,o){var a=`https://${o}.cloudapps.ministryplatform.cloud/sky/api/CustomWidget?storedProcedure=${r}`;return i&&(a+=`&spParams=${encodeURIComponent(this.replaceParameters(i))}`),e&&(a+=`&userData=${e}`),n&&(a+=`&cacheData=${n}`),t&&(a+="&requireUser=true",!e)?(console.error("Not logged in..."),void(element.innerHTML='<div class="alert alert-danger error">Please login to see this widget.</div>')):await s.ApiService.getData(a)}static async LoadCalendarData(e,t,r){var i=`https://${r}.cloudapps.ministryplatform.cloud/sky/api/Events/GetEvents`;if(e.indexOf("?")>-1){var n=e.replace("?","");e=n}return e&&(i+=`?${e}`),e.indexOf("&DataFormat=json")<-1&&(i+="&DataFormat=json").replace("&DataFormat=ical",""),{Events:await s.ApiService.getData(i)}}static replaceParameters(e){for(var t,r=e,s=/\[.*?]/gi;null!=(t=s.exec(e));)r=r.replace(t[0],this.getParameterByName(t[0]));return r}static getParameterByName(e,t=window.location.href){var r=e.replace("[","");r=r.replace("]",""),console.log("|||===> Getting Querystring Parameter:"+r),r=r.replace(/[\[\]]/g,"\\$&");var s=new RegExp("[?&]"+r+"(=([^&#]*)|&|#|$)").exec(t);return s?s[2]?(console.log("|||===> Param Value:"+decodeURIComponent(s[2].replace(/\+/g," "))),decodeURIComponent(s[2].replace(/\+/g," "))):"":null}}},"./src/Services/APIService.js":(e,t,r)=>{r.r(t),r.d(t,{ApiService:()=>s});class s{static async getData(e,t){var r={};t&&(r.Authorization=t);const s={method:"GET",headers:r},i=await fetch(`${e}`,s);if(!i.ok)throw console.error(`Request failed with status ${i.status}`),new Error(`Request failed with status ${i.status}`);return await i.json()}}},"./src/Services/TemplateService.js":(e,t,r)=>{r.r(t),r.d(t,{TemplateService:()=>i});var s=r("./node_modules/liquidjs/dist/liquid.browser.esm.js");class i{static Init(){this.engine=this.GetEngine()}static GetEngine(){return this.engine=new s.Liquid({root:"/",extname:".html"}),this.engine}static async GetRenderedTemplate(e,t){return this.engine||this.Init(),await this.engine.renderFile(e,t)}static async GetRenderedTemplateString(e,t){return this.engine||this.Init(),await this.engine.parseAndRender(e,t)}}},"./node_modules/liquidjs/dist/liquid.browser.esm.js":(e,t,r)=>{r.r(t),r.d(t,{AssertionError:()=>A,AssignTag:()=>rr,BlockTag:()=>kr,BreakTag:()=>xr,CaptureTag:()=>nr,CaseTag:()=>or,CommentTag:()=>ar,Context:()=>Dt,ContinueTag:()=>Or,CycleTag:()=>fr,DecrementTag:()=>pr,Drop:()=>i,EchoTag:()=>Rr,Expression:()=>Ne,Filter:()=>ft,ForTag:()=>ir,Hash:()=>pt,IfTag:()=>gr,IncludeTag:()=>dr,IncrementTag:()=>mr,InlineCommentTag:()=>zr,LayoutTag:()=>yr,Liquid:()=>qr,LiquidError:()=>q,LiquidTag:()=>Sr,Output:()=>mt,ParseError:()=>E,ParseStream:()=>ct,RawTag:()=>wr,RenderError:()=>_,RenderTag:()=>lr,TablerowTag:()=>vr,Tag:()=>dt,TagToken:()=>ye,TimezoneDate:()=>ge,Token:()=>s,TokenKind:()=>wt,TokenizationError:()=>F,Tokenizer:()=>ht,TypeGuards:()=>_t,UndefinedVariableError:()=>D,UnlessTag:()=>br,Value:()=>gt,assert:()=>C,createTrie:()=>G,defaultOperators:()=>Ge,defaultOptions:()=>nt,evalQuotedToken:()=>Ve,evalToken:()=>Be,filters:()=>tr,isFalsy:()=>We,isTruthy:()=>He,tags:()=>Lr,toPromise:()=>J,toValue:()=>p,toValueSync:()=>Z,version:()=>Fr});class s{constructor(e,t,r,s,i){this.kind=e,this.input=t,this.begin=r,this.end=s,this.file=i}getText(){return this.input.slice(this.begin,this.end)}getPosition(){let[e,t]=[1,1];for(let r=0;r<this.begin;r++)"\n"===this.input[r]?(e++,t=1):t++;return[e,t]}size(){return this.end-this.begin}}class i{liquidMethodMissing(e){}}const n=Object.prototype.toString,o=String.prototype.toLowerCase,a=Object.hasOwnProperty;function l(e){return"string"==typeof e}function h(e){return"function"==typeof e}function c(e){return e&&h(e.then)}function u(e){return e&&h(e.next)&&h(e.throw)&&h(e.return)}function d(e){return l(e=p(e))?e:m(e)?"":y(e)?e.map((e=>d(e))).join(""):String(e)}function p(e){return e instanceof i&&h(e.valueOf)?e.valueOf():e}function f(e){return"number"==typeof e}function g(e){return e&&h(e.toLiquid)?g(e.toLiquid()):e}function m(e){return null==e}function y(e){return"[object Array]"===n.call(e)}function k(e,t){e=e||{};for(const r in e)if(a.call(e,r)&&!1===t(e[r],r,e))break;return e}function w(e){return e[e.length-1]}function T(e){const t=typeof e;return null!==e&&("object"===t||"function"===t)}function v(e,t,r=1){const s=[];for(let i=e;i<t;i+=r)s.push(i);return s}function b(e,t,r=" "){return x(e,t,r,((e,t)=>t+e))}function x(e,t,r,s){let i=t-(e=String(e)).length;for(;i-- >0;)e=s(e,r);return e}function O(e){return e}function R(e,t){return null==e&&null==t?0:null==e?1:null==t||(e=o.call(e))<(t=o.call(t))?-1:e>t?1:0}function S(e){return(...t)=>e(...t.map(p))}function z(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}const L="__liquidClass__";class q extends Error{constructor(e,t){super("string"==typeof e?e:e.message),this.context="","string"!=typeof e&&Object.defineProperty(this,"originalError",{value:e,enumerable:!1}),Object.defineProperty(this,"token",{value:t,enumerable:!1}),Object.defineProperty(this,L,{value:"LiquidError",enumerable:!1})}update(){Object.defineProperty(this,"context",{value:$(this.token),enumerable:!1}),this.message=function(e,t){t.file&&(e+=`, file:${t.file}`);const[r,s]=t.getPosition();return e+`, line:${r}, col:${s}`}(this.message,this.token),this.stack=this.message+"\n"+this.context+"\n"+this.stack,this.originalError&&(this.stack+="\nFrom "+this.originalError.stack)}static is(e){return"LiquidError"===(null==e?void 0:e[L])}}class F extends q{constructor(e,t){super(e,t),this.name="TokenizationError",super.update()}}class E extends q{constructor(e,t){super(e,t),this.name="ParseError",this.message=e.message,super.update()}}class _ extends q{constructor(e,t){super(e,t.token),this.name="RenderError",this.message=e.message,super.update()}static is(e){return"RenderError"===e.name}}class D extends q{constructor(e,t){super(e,t),this.name="UndefinedVariableError",this.message=e.message,super.update()}}class j extends Error{constructor(e){super(`undefined variable: ${e}`),this.name="InternalUndefinedVariableError",this.variableName=e}}class A extends Error{constructor(e){super(e),this.name="AssertionError",this.message=e+""}}function $(e){const[t,r]=e.getPosition(),s=e.input.split("\n"),i=Math.max(t-2,1),n=Math.min(t+3,s.length);return v(i,n+1).map((e=>{let i=`${e===t?">> ":"   "}${b(String(e),String(n).length)}| `;const o=e===t?"\n"+b("^",r+i.length):"";return i+=s[e-1],i+=o,i})).join("\n")}const M=[0,0,0,0,0,0,0,0,0,20,4,4,4,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,20,2,8,0,0,0,0,8,0,0,0,64,0,65,0,0,33,33,33,33,33,33,33,33,33,33,0,0,2,2,2,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0],I=1;function P(e){const t=e.charCodeAt(0);return t>=128?!M[t]:!!(M[t]&I)}function C(e,t){if(!e){const r="function"==typeof t?t():t||`expect ${e} to be true`;throw new A(r)}}M[160]=M[5760]=M[6158]=M[8192]=M[8193]=M[8194]=M[8195]=M[8196]=M[8197]=M[8198]=M[8199]=M[8200]=M[8201]=M[8202]=M[8232]=M[8233]=M[8239]=M[8287]=M[12288]=4,M[8220]=M[8221]=128;class N extends i{equals(e){return!(e instanceof N||(l(e=p(e))||y(e)?0!==e.length:!T(e)||0!==Object.keys(e).length))}gt(){return!1}geq(){return!1}lt(){return!1}leq(){return!1}valueOf(){return""}}class B extends i{constructor(e,t,r){super(),this.i=0,this.length=e,this.name=`${r}-${t}`}next(){this.i++}index0(){return this.i}index(){return this.i+1}first(){return 0===this.i}last(){return this.i===this.length-1}rindex(){return this.length-this.i}rindex0(){return this.length-this.i-1}valueOf(){return JSON.stringify(this)}}class V extends i{constructor(e=(()=>"")){super(),this.superBlockRender=e}super(){return this.superBlockRender()}}function U(e){return e&&h(e.equals)}const H=new class extends i{equals(e){return m(p(e))}gt(){return!1}geq(){return!1}lt(){return!1}leq(){return!1}valueOf(){return null}},W={true:!0,false:!1,nil:H,null:H,empty:new N,blank:new class extends N{equals(e){return!1===e||!!m(p(e))||(l(e)?/^\s*$/.test(e):super.equals(e))}}};function G(e){const t={};for(const[r,s]of Object.entries(e)){let e=t;for(let t=0;t<r.length;t++){const s=r[t];e[s]=e[s]||{},t===r.length-1&&P(r[t])&&(e[s].needBoundary=!0),e=e[s]}e.data=s,e.end=!0}return t}var Y=function(){return Y=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Y.apply(this,arguments)};function Q(e,t,r,s){return new(r||(r=Promise))((function(i,n){function o(e){try{l(s.next(e))}catch(e){n(e)}}function a(e){try{l(s.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}l((s=s.apply(e,t||[])).next())}))}function J(e){return Q(this,void 0,void 0,(function*(){if(!u(e))return e;let t,r=!1,s="next";do{const i=e[s](t);r=i.done,t=i.value,s="next";try{u(t)&&(t=J(t)),c(t)&&(t=yield t)}catch(e){s="throw",t=e}}while(!r);return t}))}function Z(e){if(!u(e))return e;let t,r=!1,s="next";do{const i=e[s](t);if(r=i.done,t=i.value,s="next",u(t))try{t=Z(t)}catch(e){s="throw",t=e}}while(!r);return t}function X(e){return y(e=p(e))?e:l(e)&&e.length>0?[e]:T(t=e)&&Symbol.iterator in t?Array.from(e):T(e)?Object.keys(e).map((t=>[t,e[t]])):[];var t}function K(e){return m(e)?[]:y(e)?e:[e]}const ee=/%([-_0^#:]+)?(\d+)?([EO])?(.)/,te=["January","February","March","April","May","June","July","August","September","October","November","December"],re=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],se=te.map(ne),ie=re.map(ne);function ne(e){return e.slice(0,3)}function oe(e){const t=function(e){const t=e.getFullYear();return!(0!=(3&t)||!(t%100||t%400==0&&t))}(e)?29:28;return[31,t,31,30,31,30,31,31,30,31,30,31]}function ae(e){let t=0;for(let r=0;r<e.getMonth();++r)t+=oe(e)[r];return t+e.getDate()}function le(e,t){const r=ae(e)+(t-e.getDay()),s=7-new Date(e.getFullYear(),0,1).getDay()+t;return String(Math.floor((r-s)/7)+1)}const he={d:2,e:2,H:2,I:2,j:3,k:2,l:2,L:3,m:2,M:2,S:2,U:2,W:2},ce={a:" ",A:" ",b:" ",B:" ",c:" ",e:" ",k:" ",l:" ",p:" ",P:" "},ue={a:e=>ie[e.getDay()],A:e=>re[e.getDay()],b:e=>se[e.getMonth()],B:e=>te[e.getMonth()],c:e=>e.toLocaleString(),C:e=>function(e){return parseInt(e.getFullYear().toString().substring(0,2),10)}(e),d:e=>e.getDate(),e:e=>e.getDate(),H:e=>e.getHours(),I:e=>String(e.getHours()%12||12),j:e=>ae(e),k:e=>e.getHours(),l:e=>String(e.getHours()%12||12),L:e=>e.getMilliseconds(),m:e=>e.getMonth()+1,M:e=>e.getMinutes(),N:(e,t)=>{const r=Number(t.width)||9;return function(e,t,r=" "){return x(e,t,r,((e,t)=>e+t))}(String(e.getMilliseconds()).slice(0,r),r,"0")},p:e=>e.getHours()<12?"AM":"PM",P:e=>e.getHours()<12?"am":"pm",q:e=>function(e){const t=e.getDate();let r="th";switch(t){case 11:case 12:case 13:break;default:switch(t%10){case 1:r="st";break;case 2:r="nd";break;case 3:r="rd"}}return r}(e),s:e=>Math.round(e.getTime()/1e3),S:e=>e.getSeconds(),u:e=>e.getDay()||7,U:e=>le(e,0),w:e=>e.getDay(),W:e=>le(e,1),x:e=>e.toLocaleDateString(),X:e=>e.toLocaleTimeString(),y:e=>e.getFullYear().toString().slice(2,4),Y:e=>e.getFullYear(),z:(e,t)=>{const r=Math.abs(e.getTimezoneOffset()),s=Math.floor(r/60),i=r%60;return(e.getTimezoneOffset()>0?"-":"+")+b(s,2,"0")+(t.flags[":"]?":":"")+b(i,2,"0")},t:()=>"\t",n:()=>"\n","%":()=>"%"};function de(e,t){let r,s="",i=t;for(;r=ee.exec(i);)s+=i.slice(0,r.index),i=i.slice(r.index+r[0].length),s+=pe(e,r);return s+i}function pe(e,t){const[r,s="",i,n,o]=t,a=ue[o];if(!a)return r;const l={};for(const e of s)l[e]=!0;let h=String(a(e,{flags:l,width:i,modifier:n})),c=ce[o]||"0",u=i||he[o]||0;var d;return l["^"]?h=h.toUpperCase():l["#"]&&(d=h,h=[...d].some((e=>e>="a"&&e<="z"))?d.toUpperCase():d.toLowerCase()),l._?c=" ":l[0]&&(c="0"),l["-"]&&(u=0),b(h,u,c)}ue.h=ue.b;const fe=/([zZ]|([+-])(\d{2}):(\d{2}))$/;class ge{constructor(e,t){this.date=e instanceof ge?e.date:new Date(e),this.timezoneOffset=t;const r=6e4*(this.date.getTimezoneOffset()-this.timezoneOffset),s=this.date.getTime()+r;this.displayDate=new Date(s)}getTime(){return this.displayDate.getTime()}getMilliseconds(){return this.displayDate.getMilliseconds()}getSeconds(){return this.displayDate.getSeconds()}getMinutes(){return this.displayDate.getMinutes()}getHours(){return this.displayDate.getHours()}getDay(){return this.displayDate.getDay()}getDate(){return this.displayDate.getDate()}getMonth(){return this.displayDate.getMonth()}getFullYear(){return this.displayDate.getFullYear()}toLocaleString(e,t){return(null==t?void 0:t.timeZone)?this.date.toLocaleString(e,t):this.displayDate.toLocaleString(e,t)}toLocaleTimeString(e){return this.displayDate.toLocaleTimeString(e)}toLocaleDateString(e){return this.displayDate.toLocaleDateString(e)}getTimezoneOffset(){return this.timezoneOffset}static createDateFixedToTimezone(e){const t=e.match(fe);if(t&&"Z"===t[1])return new ge(+new Date(e),0);if(t&&t[2]&&t[3]&&t[4]){const[,,r,s,i]=t,n=("+"===r?-1:1)*(60*parseInt(s,10)+parseInt(i,10));return new ge(+new Date(e),n)}return new Date(e)}}class me extends s{constructor(e,[t,r],s,i,n,o,a,l){super(e,s,i,n,l),this.trimLeft=!1,this.trimRight=!1;const h="-"===s[t],c="-"===s[r-1];let u=h?t+1:t,d=c?r-1:r;for(;u<d&&4&M[s.charCodeAt(u)];)u++;for(;d>u&&4&M[s.charCodeAt(d-1)];)d--;this.contentRange=[u,d],this.trimLeft=h||o,this.trimRight=c||a}get content(){return this.input.slice(this.contentRange[0],this.contentRange[1])}}class ye extends me{constructor(e,t,r,s,i){const{trimTagLeft:n,trimTagRight:o,tagDelimiterLeft:a,tagDelimiterRight:l}=s,[h,c]=[t+a.length,r-l.length];super(wt.Tag,[h,c],e,t,r,n,o,i),this.tokenizer=new ht(e,s.operators,i,this.contentRange),this.name=this.tokenizer.readTagName(),this.tokenizer.assert(this.name,"illegal tag syntax, tag name expected"),this.tokenizer.skipBlank()}get args(){return this.tokenizer.input.slice(this.tokenizer.p,this.contentRange[1])}}class ke extends me{constructor(e,t,r,s,i){const{trimOutputLeft:n,trimOutputRight:o,outputDelimiterLeft:a,outputDelimiterRight:l}=s,h=[t+a.length,r-l.length];super(wt.Output,h,e,t,r,n,o,i)}}class we extends s{constructor(e,t,r,s){super(wt.HTML,e,t,r,s),this.input=e,this.begin=t,this.end=r,this.file=s,this.trimLeft=0,this.trimRight=0}getContent(){return this.input.slice(this.begin+this.trimLeft,this.end-this.trimRight)}}class Te extends s{constructor(e,t,r,s){super(wt.Number,e,t,r,s),this.input=e,this.begin=t,this.end=r,this.file=s,this.content=Number(this.getText())}}class ve extends s{constructor(e,t,r,s){super(wt.Word,e,t,r,s),this.input=e,this.begin=t,this.end=r,this.file=s,this.content=this.getText()}isNumber(e=!1){for(let t=e&&64&M[this.input.charCodeAt(this.begin)]?this.begin+1:this.begin;t<this.end;t++)if(!(32&M[this.input.charCodeAt(t)]))return!1;return!0}}class be extends s{constructor(e,t,r,s){super(wt.Literal,e,t,r,s),this.input=e,this.begin=t,this.end=r,this.file=s,this.literal=this.getText(),this.content=W[this.literal]}}const xe={"==":2,"!=":2,">":2,"<":2,">=":2,"<=":2,contains:2,not:1,and:0,or:0},Oe={"==":0,"!=":0,">":0,"<":0,">=":0,"<=":0,contains:0,not:1,and:0,or:0};class Re extends s{constructor(e,t,r,s){super(wt.Operator,e,t,r,s),this.input=e,this.begin=t,this.end=r,this.file=s,this.operator=this.getText()}getPrecedence(){const e=this.getText();return e in xe?xe[e]:1}}class Se extends s{constructor(e,t,r,s,i,n){super(wt.PropertyAccess,r,s,i,n),this.variable=e,this.props=t}}class ze extends s{constructor(e,t,r,s,i,n){super(wt.Filter,r,s,i,n),this.name=e,this.args=t}}class Le extends s{constructor(e,t,r,s,i,n){super(wt.Hash,e,t,r,n),this.input=e,this.begin=t,this.end=r,this.name=s,this.value=i,this.file=n}}const qe=/[\da-fA-F]/,Fe=/[0-7]/,Ee={b:"\b",f:"\f",n:"\n",r:"\r",t:"\t",v:"\v"};function _e(e){const t=e.charCodeAt(0);return t>=97?t-87:t>=65?t-55:t-48}class De extends s{constructor(e,t,r,s){super(wt.Quoted,e,t,r,s),this.input=e,this.begin=t,this.end=r,this.file=s,this.content=function(e){let t="";for(let r=1;r<e.length-1;r++)if("\\"===e[r])if(void 0!==Ee[e[r+1]])t+=Ee[e[++r]];else if("u"===e[r+1]){let s=0,i=r+2;for(;i<=r+5&&qe.test(e[i]);)s=16*s+_e(e[i++]);r=i-1,t+=String.fromCharCode(s)}else if(Fe.test(e[r+1])){let s=r+1,i=0;for(;s<=r+3&&Fe.test(e[s]);)i=8*i+_e(e[s++]);r=s-1,t+=String.fromCharCode(i)}else t+=e[++r];else t+=e[r];return t}(this.getText())}}class je extends s{constructor(e,t,r,s,i,n){super(wt.Range,e,t,r,n),this.input=e,this.begin=t,this.end=r,this.lhs=s,this.rhs=i,this.file=n}}class Ae extends me{constructor(e,t,r,s,i){super(wt.Tag,[t,r],e,t,r,!1,!1,i),this.tokenizer=new ht(e,s.operators,i,this.contentRange),this.name=this.tokenizer.readTagName(),this.tokenizer.assert(this.name,"illegal liquid tag syntax"),this.tokenizer.skipBlank(),this.args=this.tokenizer.remaining()}}class $e extends s{constructor(e,t,r,s,i,n){super(wt.FilteredValue,r,s,i,n),this.initial=e,this.filters=t,this.input=r,this.begin=s,this.end=i,this.file=n}}class Me{constructor(){this.buffer=""}write(e){this.buffer+=d(e)}}class Ie{constructor(){throw this.buffer="",this.stream=null,new Error("streaming not supported in browser")}}class Pe{constructor(){this.buffer=""}write(e){"string"!=typeof(e=p(e))&&""===this.buffer?this.buffer=e:this.buffer=d(this.buffer)+d(e)}}class Ce{renderTemplatesToNodeStream(e,t){const r=new Ie;return Promise.resolve().then((()=>J(this.renderTemplates(e,t,r)))).then((()=>r.end()),(e=>r.error(e))),r.stream}*renderTemplates(e,t,r){r||(r=t.opts.keepOutputType?new Pe:new Me);for(const s of e)try{const e=yield s.render(t,r);if(e&&r.write(e),r.break||r.continue)break}catch(e){throw _.is(e)?e:new _(e,s)}return r.buffer}}class Ne{constructor(e){this.postfix=[...Ue(e)]}*evaluate(e,t){C(e,"unable to evaluate: context not defined");const r=[];for(const s of this.postfix)if(xt(s)){const t=r.pop();let i;if(1===Oe[s.operator])i=yield e.opts.operators[s.operator](t,e);else{const n=r.pop();i=yield e.opts.operators[s.operator](n,t,e)}r.push(i)}else r.push(yield Be(s,e,t&&1===this.postfix.length));return r[0]}valid(){return!!this.postfix.length}}function*Be(e,t,r=!1){if(e)return"content"in e?e.content:Lt(e)?yield function*(e,t,r){const s=[],i=yield Be(e.variable,t,r);for(const r of e.props)s.push(yield Be(r,t,!1));try{return e.variable?yield t._getFromScope(i,s):yield t._get(s)}catch(t){if(r&&"InternalUndefinedVariableError"===t.name)return null;throw new D(t,e)}}(e,t,r):qt(e)?yield function*(e,t){return v(+(yield Be(e.lhs,t)),+(yield Be(e.rhs,t))+1)}(e,t):void 0}function Ve(e){return e.content}function*Ue(e){const t=[];for(const r of e)if(xt(r)){for(;t.length&&t[t.length-1].getPrecedence()>r.getPrecedence();)yield t.pop();t.push(r)}else yield r;for(;t.length;)yield t.pop()}function He(e,t){return!We(e,t)}function We(e,t){return t.opts.jsTruthy?!e:!1===e||null==e}const Ge={"==":Ye,"!=":(e,t)=>!Ye(e,t),">":(e,t)=>U(e)?e.gt(t):U(t)?t.lt(e):p(e)>p(t),"<":(e,t)=>U(e)?e.lt(t):U(t)?t.gt(e):p(e)<p(t),">=":(e,t)=>U(e)?e.geq(t):U(t)?t.leq(e):p(e)>=p(t),"<=":(e,t)=>U(e)?e.leq(t):U(t)?t.geq(e):p(e)<=p(t),contains:(e,t)=>(e=p(e),t=p(t),!(!e||!h(e.indexOf))&&e.indexOf(t)>-1),not:(e,t)=>We(p(e),t),and:(e,t,r)=>He(p(e),r)&&He(p(t),r),or:(e,t,r)=>He(p(e),r)||He(p(t),r)};function Ye(e,t){return U(e)?e.equals(t):U(t)?t.equals(e):(e=p(e),t=p(t),y(e)?y(t)&&function(e,t){return e.length===t.length&&!e.some(((e,r)=>!Ye(e,t[r])))}(e,t):e===t)}class Qe{constructor(e,t,r,s){this.key=e,this.value=t,this.next=r,this.prev=s}}class Je{constructor(e,t=0){this.limit=e,this.size=t,this.cache={},this.head=new Qe("HEAD",null,null,null),this.tail=new Qe("TAIL",null,null,null),this.head.next=this.tail,this.tail.prev=this.head}write(e,t){if(this.cache[e])this.cache[e].value=t;else{const r=new Qe(e,t,this.head.next,this.head);this.head.next.prev=r,this.head.next=r,this.cache[e]=r,this.size++,this.ensureLimit()}}read(e){if(!this.cache[e])return;const{value:t}=this.cache[e];return this.remove(e),this.write(e,t),t}remove(e){const t=this.cache[e];t.prev.next=t.next,t.next.prev=t.prev,delete this.cache[e],this.size--}clear(){this.head.next=this.tail,this.tail.prev=this.head,this.size=0,this.cache={}}ensureLimit(){this.size>this.limit&&this.remove(this.tail.prev.key)}}function Ze(e,t){const r=document.createElement("base");r.href=e;const s=document.getElementsByTagName("head")[0];s.insertBefore(r,s.firstChild);const i=document.createElement("a");i.href=t;const n=i.href;return s.removeChild(r),n}var Xe=Object.freeze({__proto__:null,resolve:function(e,t,r){return e.length&&"/"!==w(e)&&(e+="/"),Ze(e,t).replace(/^(\w+:\/\/[^/]+)(\/[^?]+)/,((e,t,s)=>{const i=s.split("/").pop();return/\.\w+$/.test(i)?e:t+s+r}))},readFile:function(e){return Q(this,void 0,void 0,(function*(){return new Promise(((t,r)=>{const s=new XMLHttpRequest;s.onload=()=>{s.status>=200&&s.status<300?t(s.responseText):r(new Error(s.statusText))},s.onerror=()=>{r(new Error("An error occurred whilst receiving the response."))},s.open("GET",e),s.send()}))}))},readFileSync:function(e){const t=new XMLHttpRequest;if(t.open("GET",e,!1),t.send(),t.status<200||t.status>=300)throw new Error(t.statusText);return t.responseText},exists:function(e){return Q(this,void 0,void 0,(function*(){return!0}))},existsSync:function(e){return!0},dirname:function(e){return Ze(e,".")},sep:"/"});function Ke(e,t=0){return JSON.stringify(e,null,t)}const et={raw:!0,handler:O},tt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},rt={"&amp;":"&","&lt;":"<","&gt;":">","&#34;":'"',"&#39;":"'"};function st(e){return d(e).replace(/&|<|>|"|'/g,(e=>tt[e]))}var it=Object.freeze({__proto__:null,escape:st,escape_once:function(e){return st(function(e){return d(e).replace(/&(amp|lt|gt|#34|#39);/g,(e=>rt[e]))}(d(e)))},newline_to_br:function(e){return d(e).replace(/\r?\n/gm,"<br />\n")},strip_html:function(e){return d(e).replace(/<script[\s\S]*?<\/script>|<style[\s\S]*?<\/style>|<.*?>|<!--[\s\S]*?-->/g,"")}});const nt={root:["."],layouts:["."],partials:["."],relativeReference:!0,jekyllInclude:!1,cache:void 0,extname:"",fs:Xe,dynamicPartials:!0,jsTruthy:!1,dateFormat:"%A, %B %-e, %Y at %-l:%M %P %z",trimTagRight:!1,trimTagLeft:!1,trimOutputRight:!1,trimOutputLeft:!1,greedy:!0,tagDelimiterLeft:"{%",tagDelimiterRight:"%}",outputDelimiterLeft:"{{",outputDelimiterRight:"}}",preserveTimezones:!1,strictFilters:!1,strictVariables:!1,ownPropertyOnly:!0,lenientIf:!1,globals:{},keepOutputType:!1,operators:Ge};function ot(e){let t=[];return y(e)&&(t=e),l(e)&&(t=[e]),t}function at(e,t){if(!e||!Ot(e))return;const r=t?4:16;for(;M[e.input.charCodeAt(e.end-1-e.trimRight)]&r;)e.trimRight++}function lt(e,t){if(!e||!Ot(e))return;const r=t?4:16;for(;M[e.input.charCodeAt(e.begin+e.trimLeft)]&r;)e.trimLeft++;"\n"===e.input.charAt(e.begin+e.trimLeft)&&e.trimLeft++}class ht{constructor(e,t=nt.operators,r,s){this.input=e,this.file=r,this.range=s,this.rawBeginAt=-1,this.p=s?s[0]:0,this.N=s?s[1]:e.length,this.opTrie=G(t),this.literalTrie=G(W)}readExpression(){return new Ne(this.readExpressionTokens())}*readExpressionTokens(){for(;this.p<this.N;){const e=this.readOperator();if(e){yield e;continue}const t=this.readValue();if(!t)return;yield t}}readOperator(){this.skipBlank();const e=this.matchTrie(this.opTrie);if(-1!==e)return new Re(this.input,this.p,this.p=e,this.file)}matchTrie(e){let t,r=e,s=this.p;for(;r[this.input[s]]&&s<this.N;)r=r[this.input[s++]],r.end&&(t=r);return t?t.needBoundary&&P(this.peek(s-this.p))?-1:s:-1}readFilteredValue(){const e=this.p,t=this.readExpression();this.assert(t.valid(),`invalid value expression: ${this.snapshot()}`);const r=this.readFilters();return new $e(t,r,this.input,e,this.p,this.file)}readFilters(){const e=[];for(;;){const t=this.readFilter();if(!t)return e;e.push(t)}}readFilter(){if(this.skipBlank(),this.end())return null;this.assert("|"===this.peek(),'expected "|" before filter'),this.p++;const e=this.p,t=this.readIdentifier();if(!t.size())return this.assert(this.end(),"expected filter name"),null;const r=[];if(this.skipBlank(),":"===this.peek())do{++this.p;const e=this.readFilterArg();e&&r.push(e),this.skipBlank(),this.assert(this.end()||","===this.peek()||"|"===this.peek(),(()=>`unexpected character ${this.snapshot()}`))}while(","===this.peek());else if("|"!==this.peek()&&!this.end())throw this.error('expected ":" after filter name');return new ze(t.getText(),r,this.input,e,this.p,this.file)}readFilterArg(){const e=this.readValue();if(!e)return;if(this.skipBlank(),":"!==this.peek())return e;++this.p;const t=this.readValue();return[e.getText(),t]}readTopLevelTokens(e=nt){const t=[];for(;this.p<this.N;){const r=this.readTopLevelToken(e);t.push(r)}return function(e,t){let r=!1;for(let s=0;s<e.length;s++){const i=e[s];bt(i)&&(!r&&i.trimLeft&&at(e[s-1],t.greedy),St(i)&&("raw"===i.name?r=!0:"endraw"===i.name&&(r=!1)),!r&&i.trimRight&&lt(e[s+1],t.greedy))}}(t,e),t}readTopLevelToken(e){const{tagDelimiterLeft:t,outputDelimiterLeft:r}=e;return this.rawBeginAt>-1?this.readEndrawOrRawContent(e):this.match(t)?this.readTagToken(e):this.match(r)?this.readOutputToken(e):this.readHTMLToken([t,r])}readHTMLToken(e){const t=this.p;for(;this.p<this.N&&!e.some((e=>this.match(e)));)++this.p;return new we(this.input,t,this.p,this.file)}readTagToken(e=nt){const{file:t,input:r}=this,s=this.p;if(-1===this.readToDelimiter(e.tagDelimiterRight))throw this.error(`tag ${this.snapshot(s)} not closed`,s);const i=new ye(r,s,this.p,e,t);return"raw"===i.name&&(this.rawBeginAt=s),i}readToDelimiter(e,t=!1){for(this.skipBlank();this.p<this.N;)if(t&&8&this.peekType())this.readQuoted();else if(++this.p,this.rmatch(e))return this.p;return-1}readOutputToken(e=nt){const{file:t,input:r}=this,{outputDelimiterRight:s}=e,i=this.p;if(-1===this.readToDelimiter(s,!0))throw this.error(`output ${this.snapshot(i)} not closed`,i);return new ke(r,i,this.p,e,t)}readEndrawOrRawContent(e){const{tagDelimiterLeft:t,tagDelimiterRight:r}=e,s=this.p;let i=this.readTo(t)-t.length;for(;this.p<this.N;)if("endraw"===this.readIdentifier().getText())for(;this.p<=this.N;){if(this.rmatch(r)){const t=this.p;return s===i?(this.rawBeginAt=-1,new ye(this.input,s,t,e,this.file)):(this.p=i,new we(this.input,s,i,this.file))}if(this.rmatch(t))break;this.p++}else i=this.readTo(t)-t.length;throw this.error(`raw ${this.snapshot(this.rawBeginAt)} not closed`,s)}readLiquidTagTokens(e=nt){const t=[];for(;this.p<this.N;){const r=this.readLiquidTagToken(e);r&&t.push(r)}return t}readLiquidTagToken(e){if(this.skipBlank(),this.end())return;const t=this.p;this.readToDelimiter("\n");const r=this.p;return new Ae(this.input,t,r,e,this.file)}error(e,t=this.p){return new F(e,new ve(this.input,t,this.N,this.file))}assert(e,t,r){if(!e)throw this.error("function"==typeof t?t():t,r)}snapshot(e=this.p){return JSON.stringify((32,(t=this.input.slice(e,this.N)).length>32?t.slice(0,29)+"...":t));var t}readWord(){return this.readIdentifier()}readIdentifier(){this.skipBlank();const e=this.p;for(;!this.end()&&P(this.peek());)++this.p;return new ve(this.input,e,this.p,this.file)}readTagName(){return this.skipBlank(),"#"===this.input[this.p]?this.input.slice(this.p,++this.p):this.readIdentifier().getText()}readHashes(e){const t=[];for(;;){const r=this.readHash(e);if(!r)return t;t.push(r)}}readHash(e){this.skipBlank(),","===this.peek()&&++this.p;const t=this.p,r=this.readIdentifier();if(!r.size())return;let s;this.skipBlank();const i=e?"=":":";return this.peek()===i&&(++this.p,s=this.readValue()),new Le(this.input,t,this.p,r,s,this.file)}remaining(){return this.input.slice(this.p,this.N)}advance(e=1){this.p+=e}end(){return this.p>=this.N}readTo(e){for(;this.p<this.N;)if(++this.p,this.rmatch(e))return this.p;return-1}readValue(){this.skipBlank();const e=this.p,t=this.readLiteral()||this.readQuoted()||this.readRange()||this.readNumber(),r=[];for(;;)if("["!==this.peek()){if(!t&&!r.length){const e=this.readIdentifier();if(e.size()){r.push(e);continue}}if("."!==this.peek()||"."===this.peek(1))break;{this.p++;const e=this.readIdentifier();if(!e.size())break;r.push(e)}}else{this.p++;const e=this.readValue()||new ve(this.input,this.p,this.p,this.file);this.assert(-1!==this.readTo("]"),"[ not closed"),r.push(e)}return r.length?new Se(t,r,this.input,e,this.p):t}readNumber(){this.skipBlank();let e=!1,t=!1,r=0;for(64&this.peekType()&&r++;this.p+r<=this.N;)if(32&this.peekType(r))t=!0,r++;else{if("."!==this.peek(r)||"."===this.peek(r+1))break;if(e||!t)return;e=!0,r++}if(t&&!P(this.peek(r))){const e=new Te(this.input,this.p,this.p+r,this.file);return this.advance(r),e}}readLiteral(){this.skipBlank();const e=this.matchTrie(this.literalTrie);if(-1===e)return;const t=new be(this.input,this.p,e,this.file);return this.p=e,t}readRange(){this.skipBlank();const e=this.p;if("("!==this.peek())return;++this.p;const t=this.readValueOrThrow();this.p+=2;const r=this.readValueOrThrow();return++this.p,new je(this.input,e,this.p,t,r,this.file)}readValueOrThrow(){const e=this.readValue();return this.assert(e,(()=>`unexpected token ${this.snapshot()}, value expected`)),e}readQuoted(){this.skipBlank();const e=this.p;if(!(8&this.peekType()))return;++this.p;let t=!1;for(;this.p<this.N&&(++this.p,this.input[this.p-1]!==this.input[e]||t);)t?t=!1:"\\"===this.input[this.p-1]&&(t=!0);return new De(this.input,e,this.p,this.file)}*readFileNameTemplate(e){const{outputDelimiterLeft:t}=e,r=[","," ",t],s=new Set(r);for(;this.p<this.N&&!s.has(this.peek());)yield this.match(t)?this.readOutputToken(e):this.readHTMLToken(r)}match(e){for(let t=0;t<e.length;t++)if(e[t]!==this.input[this.p+t])return!1;return!0}rmatch(e){for(let t=0;t<e.length;t++)if(e[e.length-1-t]!==this.input[this.p-1-t])return!1;return!0}peekType(e=0){return this.p+e>=this.N?0:M[this.input.charCodeAt(this.p+e)]}peek(e=0){return this.p+e>=this.N?"":this.input[this.p+e]}skipBlank(){for(;4&this.peekType();)++this.p}}class ct{constructor(e,t){this.handlers={},this.stopRequested=!1,this.tokens=e,this.parseToken=t}on(e,t){return this.handlers[e]=t,this}trigger(e,t){const r=this.handlers[e];return!!r&&(r.call(this,t),!0)}start(){let e;for(this.trigger("start");!this.stopRequested&&(e=this.tokens.shift());){if(this.trigger("token",e))continue;if(St(e)&&this.trigger(`tag:${e.name}`,e))continue;const t=this.parseToken(e,this.tokens);this.trigger("template",t)}return this.stopRequested||this.trigger("end"),this}stop(){return this.stopRequested=!0,this}}class ut{constructor(e){this.token=e}}class dt extends ut{constructor(e,t,r){super(e),this.name=e.name,this.liquid=r,this.tokenizer=e.tokenizer}}class pt{constructor(e,t){this.hash={};const r=new ht(e,{});for(const e of r.readHashes(t))this.hash[e.name.content]=e.value}*render(e){const t={};for(const r of Object.keys(this.hash))t[r]=void 0===this.hash[r]||(yield Be(this.hash[r],e));return t}}class ft{constructor(e,t,r,s){this.name=e,this.handler=h(t)?t:h(null==t?void 0:t.handler)?t.handler:O,this.raw=!h(t)&&!!(null==t?void 0:t.raw),this.args=r,this.liquid=s}*render(e,t){const r=[];for(const e of this.args)y(e)?r.push([e[0],yield Be(e[1],t)]):r.push(yield Be(e,t));return yield this.handler.apply({context:t,liquid:this.liquid},[e,...r])}}class gt{constructor(e,t){this.filters=[];const r="string"==typeof e?new ht(e,t.options.operators).readFilteredValue():e;this.initial=r.initial,this.filters=r.filters.map((({name:e,args:r})=>new ft(e,this.getFilter(t,e),r,t)))}*value(e,t){t=t||e.opts.lenientIf&&this.filters.length>0&&"default"===this.filters[0].name;let r=yield this.initial.evaluate(e,t);for(const t of this.filters)r=yield t.render(r,e);return r}getFilter(e,t){const r=e.filters[t];return C(r||!e.options.strictFilters,(()=>`undefined filter: ${t}`)),r}}class mt extends ut{constructor(e,t){var r;super(e);const s=new ht(e.input,t.options.operators,e.file,e.contentRange);this.value=new gt(s.readFilteredValue(),t);const i=this.value.filters,n=t.options.outputEscape;!(null===(r=i[i.length-1])||void 0===r?void 0:r.raw)&&n&&i.push(new ft(toString.call(n),n,[],t))}*render(e,t){const r=yield this.value.value(e,!1);t.write(r)}}class yt extends ut{constructor(e){super(e),this.str=e.getContent()}*render(e,t){t.write(this.str)}}var kt,wt;!function(e){e.Partials="partials",e.Layouts="layouts",e.Root="root"}(kt||(kt={}));class Tt{constructor(e){if(this.options=e,e.relativeReference){const t=e.fs.sep;C(t,"`fs.sep` is required for relative reference");const r=new RegExp(["."+t,".."+t,"./","../"].map((e=>e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"))).join("|"));this.shouldLoadRelative=e=>r.test(e)}else this.shouldLoadRelative=e=>!1;this.contains=this.options.fs.contains||(()=>!0)}*lookup(e,t,r,s){const{fs:i}=this.options,n=this.options[t];for(const o of this.candidates(e,n,s,t!==kt.Root))if(r?i.existsSync(o):yield i.exists(o))return o;throw this.lookupError(e,n)}*candidates(e,t,r,s){const{fs:i,extname:n}=this.options;if(this.shouldLoadRelative(e)&&r){const o=i.resolve(this.dirname(r),e,n);for(const e of t)if(!s||this.contains(e,o)){yield o;break}}for(const r of t){const t=i.resolve(r,e,n);s&&!this.contains(r,t)||(yield t)}if(void 0!==i.fallback){const t=i.fallback(e);void 0!==t&&(yield t)}}dirname(e){const t=this.options.fs;return C(t.dirname,"`fs.dirname` is required for relative reference"),t.dirname(e)}lookupError(e,t){const r=new Error("ENOENT");return r.message=`ENOENT: Failed to lookup "${e}" in "${t}"`,r.code="ENOENT",r}}class vt{constructor(e){this.liquid=e,this.cache=this.liquid.options.cache,this.fs=this.liquid.options.fs,this.parseFile=this.cache?this._parseFileCached:this._parseFile,this.loader=new Tt(this.liquid.options)}parse(e,t){const r=new ht(e,this.liquid.options.operators,t).readTopLevelTokens(this.liquid.options);return this.parseTokens(r)}parseTokens(e){let t;const r=[];for(;t=e.shift();)r.push(this.parseToken(t,e));return r}parseToken(e,t){try{if(St(e)){const r=this.liquid.tags[e.name];return C(r,`tag "${e.name}" not found`),new r(e,t,this.liquid)}return Rt(e)?new mt(e,this.liquid):new yt(e)}catch(t){if(q.is(t))throw t;throw new E(t,e)}}parseStream(e){return new ct(e,((e,t)=>this.parseToken(e,t)))}*_parseFileCached(e,t,r=kt.Root,s){const i=this.cache,n=this.loader.shouldLoadRelative(e)?s+","+e:r+":"+e,o=yield i.read(n);if(o)return o;const a=this._parseFile(e,t,r,s),l=t?yield a:J(a);i.write(n,l);try{return yield l}catch(e){throw i.remove(n),e}}*_parseFile(e,t,r=kt.Root,s){const i=yield this.loader.lookup(e,r,t,s);return this.liquid.parse(t?this.fs.readFileSync(i):yield this.fs.readFile(i),i)}}function bt(e){return!!(Ft(e)&wt.Delimited)}function xt(e){return Ft(e)===wt.Operator}function Ot(e){return Ft(e)===wt.HTML}function Rt(e){return Ft(e)===wt.Output}function St(e){return Ft(e)===wt.Tag}function zt(e){return Ft(e)===wt.Quoted}function Lt(e){return Ft(e)===wt.PropertyAccess}function qt(e){return Ft(e)===wt.Range}function Ft(e){return e?e.kind:-1}!function(e){e[e.Number=1]="Number",e[e.Literal=2]="Literal",e[e.Tag=4]="Tag",e[e.Output=8]="Output",e[e.HTML=16]="HTML",e[e.Filter=32]="Filter",e[e.Hash=64]="Hash",e[e.PropertyAccess=128]="PropertyAccess",e[e.Word=256]="Word",e[e.Range=512]="Range",e[e.Quoted=1024]="Quoted",e[e.Operator=2048]="Operator",e[e.FilteredValue=4096]="FilteredValue",e[e.Delimited=12]="Delimited"}(wt||(wt={}));var Et,_t=Object.freeze({__proto__:null,isDelimitedToken:bt,isOperatorToken:xt,isHTMLToken:Ot,isOutputToken:Rt,isTagToken:St,isQuotedToken:zt,isLiteralToken:function(e){return Ft(e)===wt.Literal},isNumberToken:function(e){return Ft(e)===wt.Number},isPropertyAccessToken:Lt,isWordToken:function(e){return Ft(e)===wt.Word},isRangeToken:qt});class Dt{constructor(e={},t=nt,r={}){var s,i,n;this.scopes=[{}],this.registers={},this.sync=!!r.sync,this.opts=t,this.globals=null!==(s=r.globals)&&void 0!==s?s:t.globals,this.environments=e,this.strictVariables=null!==(i=r.strictVariables)&&void 0!==i?i:this.opts.strictVariables,this.ownPropertyOnly=null!==(n=r.ownPropertyOnly)&&void 0!==n?n:t.ownPropertyOnly}getRegister(e){return this.registers[e]=this.registers[e]||{}}setRegister(e,t){return this.registers[e]=t}saveRegister(...e){return e.map((e=>[e,this.getRegister(e)]))}restoreRegister(e){return e.forEach((([e,t])=>this.setRegister(e,t)))}getAll(){return[this.globals,this.environments,...this.scopes].reduce(((e,t)=>Y(e,t)),{})}get(e){return this.getSync(e)}getSync(e){return Z(this._get(e))}*_get(e){const t=this.findScope(e[0]);return yield this._getFromScope(t,e)}getFromScope(e,t){return Z(this._getFromScope(e,t))}*_getFromScope(e,t,r=this.strictVariables){l(t)&&(t=t.split("."));for(let s=0;s<t.length;s++)if(e=yield jt(e,t[s],this.ownPropertyOnly),r&&void 0===e)throw new j(t.slice(0,s+1).join("."));return e}push(e){return this.scopes.push(e)}pop(){return this.scopes.pop()}bottom(){return this.scopes[0]}findScope(e){for(let t=this.scopes.length-1;t>=0;t--){const r=this.scopes[t];if(e in r)return r}return e in this.environments?this.environments:this.globals}}function jt(e,t,r){if(m(e=g(e)))return e;if(y(e)&&t<0)return e[e.length+ +t];const s=function(e,t,r){return!r||Object.hasOwnProperty.call(e,t)||e instanceof i?e[t]:void 0}(e,t,r);return void 0===s&&e instanceof i?e.liquidMethodMissing(t):h(s)?s.call(e):"size"===t?function(e){return e.hasOwnProperty("size")||void 0!==e.size?e.size:y(e)||l(e)?e.length:"object"==typeof e?Object.keys(e).length:void 0}(e):"first"===t?function(e){return y(e)?e[0]:e.first}(e):"last"===t?function(e){return y(e)?e[e.length-1]:e.last}(e):s}!function(e){e[e.OUTPUT=0]="OUTPUT",e[e.STORE=1]="STORE"}(Et||(Et={}));const At=S(Math.abs),$t=S(Math.max),Mt=S(Math.min),It=S(Math.ceil),Pt=S(((e,t,r=!1)=>r?Math.floor(e/t):e/t)),Ct=S(Math.floor),Nt=S(((e,t)=>e-t)),Bt=S(((e,t)=>e%t)),Vt=S(((e,t)=>e*t));var Ut=Object.freeze({__proto__:null,abs:At,at_least:$t,at_most:Mt,ceil:It,divided_by:Pt,floor:Ct,minus:Nt,modulo:Bt,times:Vt,round:function(e,t=0){e=p(e),t=p(t);const r=Math.pow(10,t);return Math.round(e*r)/r},plus:function(e,t){return e=p(e),t=p(t),Number(e)+Number(t)}}),Ht=Object.freeze({__proto__:null,url_decode:e=>d(e).split("+").map(decodeURIComponent).join(" "),url_encode:e=>d(e).split(" ").map(encodeURIComponent).join("+")});const Wt=S(((e,t)=>K(e).join(void 0===t?" ":t))),Gt=S((e=>y(e)?w(e):"")),Yt=S((e=>y(e)?e[0]:"")),Qt=S((e=>[...K(e)].reverse()));function Jt(e,t=[]){return e=p(e),t=K(t).map((e=>p(e))),K(e).concat(t)}var Zt=Object.freeze({__proto__:null,join:Wt,last:Gt,first:Yt,reverse:Qt,sort:function*(e,t){const r=[];for(const s of K(p(e)))r.push([s,t?yield this.context._getFromScope(s,d(t).split("."),!1):s]);return r.sort(((e,t)=>{const r=e[1],s=t[1];return r<s?-1:r>s?1:0})).map((e=>e[0]))},sort_natural:function(e,t){e=p(e);const r=d(t),s=void 0===t?R:(e,t)=>R(e[r],t[r]);return[...K(e)].sort(s)},size:e=>e&&e.length||0,map:function*(e,t){const r=[];for(const s of K(p(e)))r.push(yield this.context._getFromScope(s,d(t),!1));return r},compact:function(e){return K(e=p(e)).filter((e=>!m(p(e))))},concat:Jt,push:function(e,t){return Jt(e,[t])},slice:function(e,t,r=1){return m(e=p(e))?[]:(y(e)||(e=d(e)),t=t<0?e.length+t:t,e.slice(t,t+r))},where:function*(e,t,r){const s=[];e=K(p(e));for(const r of e)s.push(yield this.context._getFromScope(r,d(t).split("."),!1));return e.filter(((e,t)=>void 0===r?He(s[t],this.context):U(r)?r.equals(s[t]):s[t]===r))},uniq:function(e){e=p(e);const t={};return(e||[]).filter((e=>!a.call(t,String(e))&&(t[String(e)]=!0,!0)))},sample:function(e,t=1){if(m(e=p(e)))return[];y(e)||(e=d(e));const r=[...e].sort((()=>Math.random()-.5));return 1===t?r[0]:r.slice(0,t)}});function Xt(e,t){if(f(t))return t;const r=new Date(e.toLocaleString("en-US",{timeZone:"UTC"})),s=new Date(e.toLocaleString("en-US",{timeZone:t}));return(r.getTime()-s.getTime())/6e4}var Kt=Object.freeze({__proto__:null,date:function(e,t,r){const s=this.context.opts;let i;return e=p(e),t=m(t=p(t))?s.dateFormat:d(t),i="now"===e||"today"===e?new Date:f(e)?new Date(1e3*e):l(e)?/^\d+$/.test(e)?new Date(1e3*+e):s.preserveTimezones?ge.createDateFixedToTimezone(e):new Date(e):e,function(e){return(e instanceof Date||e instanceof ge)&&!isNaN(e.getTime())}(i)?(void 0!==r?i=new ge(i,Xt(i,r)):i instanceof ge||void 0===s.timezoneOffset||(i=new ge(i,Xt(i,s.timezoneOffset))),de(i,t)):e}}),er=Object.freeze({__proto__:null,append:function(e,t){return C(2===arguments.length,"append expect 2 arguments"),d(e)+d(t)},prepend:function(e,t){return C(2===arguments.length,"prepend expect 2 arguments"),d(t)+d(e)},lstrip:function(e,t){return t?(t=z(d(t)),d(e).replace(new RegExp(`^[${t}]+`,"g"),"")):d(e).replace(/^\s+/,"")},downcase:function(e){return d(e).toLowerCase()},upcase:function(e){return d(e).toUpperCase()},remove:function(e,t){return d(e).split(String(t)).join("")},remove_first:function(e,t){return d(e).replace(String(t),"")},remove_last:function(e,t){const r=d(e),s=String(t),i=r.lastIndexOf(s);return-1===i?r:r.substring(0,i)+r.substring(i+s.length)},rstrip:function(e,t){return t?(t=z(d(t)),d(e).replace(new RegExp(`[${t}]+$`,"g"),"")):d(e).replace(/\s+$/,"")},split:function(e,t){const r=d(e).split(String(t));for(;r.length&&""===r[r.length-1];)r.pop();return r},strip:function(e,t){return t?(t=z(d(t)),d(e).replace(new RegExp(`^[${t}]+`,"g"),"").replace(new RegExp(`[${t}]+$`,"g"),"")):d(e).trim()},strip_newlines:function(e){return d(e).replace(/\r?\n/gm,"")},capitalize:function(e){return(e=d(e)).charAt(0).toUpperCase()+e.slice(1).toLowerCase()},replace:function(e,t,r){return d(e).split(String(t)).join(r)},replace_first:function(e,t,r){return d(e).replace(String(t),r)},replace_last:function(e,t,r){const s=d(e),i=String(t),n=s.lastIndexOf(i);if(-1===n)return s;const o=String(r);return s.substring(0,n)+o+s.substring(n+i.length)},truncate:function(e,t=50,r="..."){return(e=d(e)).length<=t?e:e.substring(0,t-r.length)+r},truncatewords:function(e,t=15,r="..."){const s=d(e).split(/\s+/);t<=0&&(t=1);let i=s.slice(0,t).join(" ");return s.length>=t&&(i+=r),i}});const tr=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},it),Ut),Ht),Zt),Kt),er),{json:Ke,raw:et,default:function(e,t,...r){return y(e=p(e))||l(e)?e.length?e:t:(!1!==e||!new Map(r).get("allow_false"))&&(We(e,this.context)?t:e)}});class rr extends dt{constructor(e,t,r){super(e,t,r),this.key=this.tokenizer.readIdentifier().content,this.tokenizer.assert(this.key,"expected variable name"),this.tokenizer.skipBlank(),this.tokenizer.assert("="===this.tokenizer.peek(),'expected "="'),this.tokenizer.advance(),this.value=new gt(this.tokenizer.readFilteredValue(),this.liquid)}*render(e){e.bottom()[this.key]=yield this.value.value(e,this.liquid.options.lenientIf)}}const sr=["offset","limit","reversed"];class ir extends dt{constructor(e,t,r){super(e,t,r);const s=this.tokenizer.readIdentifier(),i=this.tokenizer.readIdentifier(),n=this.tokenizer.readValue();if(!s.size()||"in"!==i.content||!n)throw new Error(`illegal tag: ${e.getText()}`);let o;this.variable=s.content,this.collection=n,this.hash=new pt(this.tokenizer.remaining()),this.templates=[],this.elseTemplates=[];const a=this.liquid.parser.parseStream(t).on("start",(()=>o=this.templates)).on("tag:else",(()=>o=this.elseTemplates)).on("tag:endfor",(()=>a.stop())).on("template",(e=>o.push(e))).on("end",(()=>{throw new Error(`tag ${e.getText()} not closed`)}));a.start()}*render(e,t){const r=this.liquid.renderer;let s=X(yield Be(this.collection,e));if(!s.length)return void(yield r.renderTemplates(this.elseTemplates,e,t));const i="continue-"+this.variable+"-"+this.collection.getText();e.push({continue:e.getRegister(i)});const n=yield this.hash.render(e);e.pop(),s=(this.liquid.options.orderedFilterParameters?Object.keys(n).filter((e=>sr.includes(e))):sr.filter((e=>void 0!==n[e]))).reduce(((e,t)=>{return"offset"===t?(r=e,s=n.offset,r.slice(s)):"limit"===t?function(e,t){return e.slice(0,t)}(e,n.limit):function(e){return[...e].reverse()}(e);var r,s}),s),e.setRegister(i,(n.offset||0)+s.length);const o={forloop:new B(s.length,this.collection.getText(),this.variable)};e.push(o);for(const i of s){if(o[this.variable]=i,yield r.renderTemplates(this.templates,e,t),t.break){t.break=!1;break}t.continue=!1,o.forloop.next()}e.pop()}}class nr extends dt{constructor(e,t,r){for(super(e,t,r),this.templates=[],this.variable=this.readVariableName();t.length;){const e=t.shift();if(St(e)&&"endcapture"===e.name)return;this.templates.push(r.parser.parseToken(e,t))}throw new Error(`tag ${e.getText()} not closed`)}*render(e){const t=this.liquid.renderer,r=yield t.renderTemplates(this.templates,e);e.bottom()[this.variable]=r}readVariableName(){const e=this.tokenizer.readIdentifier().content;if(e)return e;const t=this.tokenizer.readQuoted();if(t)return Ve(t);throw this.tokenizer.error("invalid capture name")}}class or extends dt{constructor(e,t,r){super(e,t,r),this.branches=[],this.elseTemplates=[],this.value=new gt(this.tokenizer.readFilteredValue(),this.liquid),this.elseTemplates=[];let s=[];const i=this.liquid.parser.parseStream(t).on("tag:when",(e=>{s=[];const t=[];for(;!e.tokenizer.end();)t.push(e.tokenizer.readValueOrThrow()),e.tokenizer.skipBlank(),","===e.tokenizer.peek()?e.tokenizer.readTo(","):e.tokenizer.readTo("or");this.branches.push({values:t,templates:s})})).on("tag:else",(()=>s=this.elseTemplates)).on("tag:endcase",(()=>i.stop())).on("template",(e=>s.push(e))).on("end",(()=>{throw new Error(`tag ${e.getText()} not closed`)}));i.start()}*render(e,t){const r=this.liquid.renderer,s=p(yield this.value.value(e,e.opts.lenientIf));let i=!1;for(const n of this.branches)for(const o of n.values)if(s===(yield Be(o,e,e.opts.lenientIf))){yield r.renderTemplates(n.templates,e,t),i=!0;break}i||(yield r.renderTemplates(this.elseTemplates,e,t))}}class ar extends dt{constructor(e,t,r){for(super(e,t,r);t.length;){const e=t.shift();if(St(e)&&"endcomment"===e.name)return}throw new Error(`tag ${e.getText()} not closed`)}render(){}}class lr extends dt{constructor(e,t,r){super(e,t,r);const s=this.tokenizer;for(this.file=hr(s,this.liquid),this.currentFile=e.file;!s.end();){s.skipBlank();const e=s.p,t=s.readIdentifier();if(("with"===t.content||"for"===t.content)&&(s.skipBlank(),":"!==s.peek())){const e=s.readValue();if(e){const r=s.p;let i;"as"===s.readIdentifier().content?i=s.readIdentifier():s.p=r,this[t.content]={value:e,alias:i&&i.content},s.skipBlank(),","===s.peek()&&s.advance();continue}}s.p=e;break}this.hash=new pt(s.remaining())}*render(e,t){const{liquid:r,hash:s}=this,i=yield ur(this.file,e,r);C(i,(()=>`illegal file path "${i}"`));const n=new Dt({},e.opts,{sync:e.sync,globals:e.globals,strictVariables:e.strictVariables}),o=n.bottom();if(Y(o,yield s.render(e)),this.with){const{value:t,alias:r}=this.with;o[r||i]=yield Be(t,e)}if(this.for){const{value:s,alias:a}=this.for,l=X(yield Be(s,e));o.forloop=new B(l.length,s.getText(),a);for(const e of l){o[a]=e;const s=yield r._parsePartialFile(i,n.sync,this.currentFile);yield r.renderer.renderTemplates(s,n,t),o.forloop.next()}}else{const e=yield r._parsePartialFile(i,n.sync,this.currentFile);yield r.renderer.renderTemplates(e,n,t)}}}function hr(e,t){if(t.options.dynamicPartials){const r=e.readValue();if(e.assert(r,"illegal file path"),"none"===r.getText())return;return zt(r)?cr(t.parse(Ve(r))):r}const r=[...e.readFileNameTemplate(t.options)],s=cr(t.parser.parseTokens(r));return"none"===s?void 0:s}function cr(e){return 1===e.length&&Ot(e[0].token)?e[0].token.getContent():e}function*ur(e,t,r){return"string"==typeof e?e:Array.isArray(e)?r.renderer.renderTemplates(e,t):yield Be(e,t)}class dr extends dt{constructor(e,t,r){super(e,t,r);const{tokenizer:s}=e;this.file=hr(s,this.liquid),this.currentFile=e.file;const i=s.p;"with"===s.readIdentifier().content?(s.skipBlank(),":"!==s.peek()?this.withVar=s.readValue():s.p=i):s.p=i,this.hash=new pt(s.remaining(),this.liquid.options.jekyllInclude)}*render(e,t){const{liquid:r,hash:s,withVar:i}=this,{renderer:n}=r,o=yield ur(this.file,e,r);C(o,(()=>`illegal file path "${o}"`));const a=e.saveRegister("blocks","blockMode");e.setRegister("blocks",{}),e.setRegister("blockMode",Et.OUTPUT);const l=yield s.render(e);i&&(l[o]=yield Be(i,e));const h=yield r._parsePartialFile(o,e.sync,this.currentFile);e.push(e.opts.jekyllInclude?{include:l}:l),yield n.renderTemplates(h,e,t),e.pop(),e.restoreRegister(a)}}class pr extends dt{constructor(e,t,r){super(e,t,r),this.variable=this.tokenizer.readIdentifier().content}render(e,t){const r=e.environments;f(r[this.variable])||(r[this.variable]=0),t.write(d(--r[this.variable]))}}class fr extends dt{constructor(e,t,r){super(e,t,r),this.candidates=[];const s=this.tokenizer.readValue();for(this.tokenizer.skipBlank(),s&&(":"===this.tokenizer.peek()?(this.group=s,this.tokenizer.advance()):this.candidates.push(s));!this.tokenizer.end();){const e=this.tokenizer.readValue();e&&this.candidates.push(e),this.tokenizer.readTo(",")}this.tokenizer.assert(this.candidates.length,(()=>`empty candidates: "${e.getText()}"`))}*render(e,t){const r=`cycle:${yield Be(this.group,e)}:`+this.candidates.join(","),s=e.getRegister("cycle");let i=s[r];void 0===i&&(i=s[r]=0);const n=this.candidates[i];return i=(i+1)%this.candidates.length,s[r]=i,yield Be(n,e)}}class gr extends dt{constructor(e,t,r){let s;super(e,t,r),this.branches=[],this.elseTemplates=[],r.parser.parseStream(t).on("start",(()=>this.branches.push({value:new gt(e.args,this.liquid),templates:s=[]}))).on("tag:elsif",(e=>this.branches.push({value:new gt(e.args,this.liquid),templates:s=[]}))).on("tag:else",(()=>s=this.elseTemplates)).on("tag:endif",(function(){this.stop()})).on("template",(e=>s.push(e))).on("end",(()=>{throw new Error(`tag ${e.getText()} not closed`)})).start()}*render(e,t){const r=this.liquid.renderer;for(const{value:s,templates:i}of this.branches)if(He(yield s.value(e,e.opts.lenientIf),e))return void(yield r.renderTemplates(i,e,t));yield r.renderTemplates(this.elseTemplates,e,t)}}class mr extends dt{constructor(e,t,r){super(e,t,r),this.variable=this.tokenizer.readIdentifier().content}render(e,t){const r=e.environments;f(r[this.variable])||(r[this.variable]=0);const s=r[this.variable];r[this.variable]++,t.write(d(s))}}class yr extends dt{constructor(e,t,r){super(e,t,r),this.file=hr(this.tokenizer,this.liquid),this.currentFile=e.file,this.args=new pt(this.tokenizer.remaining()),this.templates=this.liquid.parser.parseTokens(t)}*render(e,t){const{liquid:r,args:s,file:i}=this,{renderer:n}=r;if(void 0===i)return e.setRegister("blockMode",Et.OUTPUT),void(yield n.renderTemplates(this.templates,e,t));const o=yield ur(this.file,e,r);C(o,(()=>`illegal file path "${o}"`));const a=yield r._parseLayoutFile(o,e.sync,this.currentFile);e.setRegister("blockMode",Et.STORE);const l=yield n.renderTemplates(this.templates,e),h=e.getRegister("blocks");void 0===h[""]&&(h[""]=(e,t)=>t.write(l)),e.setRegister("blockMode",Et.OUTPUT),e.push(yield s.render(e)),yield n.renderTemplates(a,e,t),e.pop()}}class kr extends dt{constructor(e,t,r){super(e,t,r),this.templates=[];const s=/\w+/.exec(e.args);for(this.block=s?s[0]:"";t.length;){const e=t.shift();if(St(e)&&"endblock"===e.name)return;const s=r.parser.parseToken(e,t);this.templates.push(s)}throw new Error(`tag ${e.getText()} not closed`)}*render(e,t){const r=this.getBlockRender(e);e.getRegister("blockMode")===Et.STORE?e.getRegister("blocks")[this.block]=r:yield r(new V,t)}getBlockRender(e){const{liquid:t,templates:r}=this,s=e.getRegister("blocks")[this.block],i=function*(s,i){e.push({block:s}),yield t.renderer.renderTemplates(r,e,i),e.pop()};return s?(e,t)=>s(new V((()=>i(e,t))),t):i}}class wr extends dt{constructor(e,t,r){for(super(e,t,r),this.tokens=[];t.length;){const e=t.shift();if(St(e)&&"endraw"===e.name)return;this.tokens.push(e)}throw new Error(`tag ${e.getText()} not closed`)}render(){return this.tokens.map((e=>e.getText())).join("")}}class Tr extends B{constructor(e,t,r,s){super(e,r,s),this.length=e,this.cols=t}row(){return Math.floor(this.i/this.cols)+1}col0(){return this.i%this.cols}col(){return this.col0()+1}col_first(){return 0===this.col0()}col_last(){return this.col()===this.cols}}class vr extends dt{constructor(e,t,r){super(e,t,r);const s=this.tokenizer.readIdentifier();this.tokenizer.skipBlank();const i=this.tokenizer.readIdentifier(),n=this.tokenizer.readValue();if("in"!==i.content||!n)throw new Error(`illegal tag: ${e.getText()}`);let o;this.variable=s.content,this.collection=n,this.args=new pt(this.tokenizer.remaining()),this.templates=[];const a=this.liquid.parser.parseStream(t).on("start",(()=>o=this.templates)).on("tag:endtablerow",(()=>a.stop())).on("template",(e=>o.push(e))).on("end",(()=>{throw new Error(`tag ${e.getText()} not closed`)}));a.start()}*render(e,t){let r=X(yield Be(this.collection,e));const s=yield this.args.render(e),i=s.offset||0,n=void 0===s.limit?r.length:s.limit;r=r.slice(i,i+n);const o=s.cols||r.length,a=this.liquid.renderer,l=new Tr(r.length,o,this.collection.getText(),this.variable),h={tablerowloop:l};e.push(h);for(let s=0;s<r.length;s++,l.next())h[this.variable]=r[s],0===l.col0()&&(1!==l.row()&&t.write("</tr>"),t.write(`<tr class="row${l.row()}">`)),t.write(`<td class="col${l.col()}">`),yield a.renderTemplates(this.templates,e,t),t.write("</td>");r.length&&t.write("</tr>"),e.pop()}}class br extends dt{constructor(e,t,r){let s;super(e,t,r),this.branches=[],this.elseTemplates=[],this.liquid.parser.parseStream(t).on("start",(()=>this.branches.push({value:new gt(e.args,this.liquid),test:We,templates:s=[]}))).on("tag:elsif",(e=>this.branches.push({value:new gt(e.args,this.liquid),test:He,templates:s=[]}))).on("tag:else",(()=>s=this.elseTemplates)).on("tag:endunless",(function(){this.stop()})).on("template",(e=>s.push(e))).on("end",(()=>{throw new Error(`tag ${e.getText()} not closed`)})).start()}*render(e,t){const r=this.liquid.renderer;for(const{value:s,test:i,templates:n}of this.branches)if(i(yield s.value(e,e.opts.lenientIf),e))return void(yield r.renderTemplates(n,e,t));yield r.renderTemplates(this.elseTemplates,e,t)}}class xr extends dt{render(e,t){t.break=!0}}class Or extends dt{render(e,t){t.continue=!0}}class Rr extends dt{constructor(e,t,r){super(e,t,r),this.tokenizer.skipBlank(),this.tokenizer.end()||(this.value=new gt(this.tokenizer.readFilteredValue(),this.liquid))}*render(e,t){if(!this.value)return;const r=yield this.value.value(e,!1);t.write(r)}}class Sr extends dt{constructor(e,t,r){super(e,t,r);const s=this.tokenizer.readLiquidTagTokens(this.liquid.options);this.templates=this.liquid.parser.parseTokens(s)}*render(e,t){yield this.liquid.renderer.renderTemplates(this.templates,e,t)}}class zr extends dt{constructor(e,t,r){if(super(e,t,r),-1!==e.args.search(/\n\s*[^#\s]/g))throw new Error("every line of an inline comment must start with a '#' character")}render(){}}const Lr={assign:rr,for:ir,capture:nr,case:or,comment:ar,include:dr,render:lr,decrement:pr,increment:mr,cycle:fr,if:gr,layout:yr,block:kr,raw:wr,tablerow:vr,unless:br,break:xr,continue:Or,echo:Rr,liquid:Sr,"#":zr};class qr{constructor(e={}){this.renderer=new Ce,this.filters={},this.tags={},this.options=function(e){if(e.hasOwnProperty("root")&&(e.hasOwnProperty("partials")||(e.partials=e.root),e.hasOwnProperty("layouts")||(e.layouts=e.root)),e.hasOwnProperty("cache")){let t;t="number"==typeof e.cache?e.cache>0?new Je(e.cache):void 0:"object"==typeof e.cache?e.cache:e.cache?new Je(1024):void 0,e.cache=t}var t;return(e=Object.assign(Object.assign(Object.assign({},nt),e.jekyllInclude?{dynamicPartials:!1}:{}),e)).fs.dirname&&e.fs.sep||!e.relativeReference||(console.warn("[LiquidJS] `fs.dirname` and `fs.sep` are required for relativeReference, set relativeReference to `false` to suppress this warning"),e.relativeReference=!1),e.root=ot(e.root),e.partials=ot(e.partials),e.layouts=ot(e.layouts),e.outputEscape=e.outputEscape&&("escape"===(t=e.outputEscape)?st:"json"===t?Ke:(C(h(t),"`outputEscape` need to be of type string or function"),t)),e}(e),this.parser=new vt(this),k(Lr,((e,t)=>this.registerTag(t,e))),k(tr,((e,t)=>this.registerFilter(t,e)))}parse(e,t){return this.parser.parse(e,t)}_render(e,t,r){const s=t instanceof Dt?t:new Dt(t,this.options,r);return this.renderer.renderTemplates(e,s)}render(e,t,r){return Q(this,void 0,void 0,(function*(){return J(this._render(e,t,Object.assign(Object.assign({},r),{sync:!1})))}))}renderSync(e,t,r){return Z(this._render(e,t,Object.assign(Object.assign({},r),{sync:!0})))}renderToNodeStream(e,t,r={}){const s=new Dt(t,this.options,r);return this.renderer.renderTemplatesToNodeStream(e,s)}_parseAndRender(e,t,r){const s=this.parse(e);return this._render(s,t,r)}parseAndRender(e,t,r){return Q(this,void 0,void 0,(function*(){return J(this._parseAndRender(e,t,Object.assign(Object.assign({},r),{sync:!1})))}))}parseAndRenderSync(e,t,r){return Z(this._parseAndRender(e,t,Object.assign(Object.assign({},r),{sync:!0})))}_parsePartialFile(e,t,r){return this.parser.parseFile(e,t,kt.Partials,r)}_parseLayoutFile(e,t,r){return this.parser.parseFile(e,t,kt.Layouts,r)}_parseFile(e,t,r,s){return this.parser.parseFile(e,t,r,s)}parseFile(e,t){return Q(this,void 0,void 0,(function*(){return J(this.parser.parseFile(e,!1,t))}))}parseFileSync(e,t){return Z(this.parser.parseFile(e,!0,t))}*_renderFile(e,t,r){const s=yield this._parseFile(e,r.sync,r.lookupType);return yield this._render(s,t,r)}renderFile(e,t,r){return Q(this,void 0,void 0,(function*(){return J(this._renderFile(e,t,Object.assign(Object.assign({},r),{sync:!1})))}))}renderFileSync(e,t,r){return Z(this._renderFile(e,t,Object.assign(Object.assign({},r),{sync:!0})))}renderFileToNodeStream(e,t,r){return Q(this,void 0,void 0,(function*(){const s=yield this.parseFile(e);return this.renderToNodeStream(s,t,r)}))}_evalValue(e,t){const r=new gt(e,this),s=t instanceof Dt?t:new Dt(t,this.options);return r.value(s)}evalValue(e,t){return Q(this,void 0,void 0,(function*(){return J(this._evalValue(e,t))}))}evalValueSync(e,t){return Z(this._evalValue(e,t))}registerFilter(e,t){this.filters[e]=t}registerTag(e,t){var r;this.tags[e]=h(t)?t:(r=t,class extends dt{constructor(e,t,s){super(e,t,s),h(r.parse)&&r.parse.call(this,e,t)}*render(e,t){const s=yield new pt(this.token.args).render(e);return yield r.render.call(this,e,t,s)}})}plugin(e){return e.call(this,qr)}express(){const e=this;let t=!0;return function(r,s,i){if(t){t=!1;const r=ot(this.root);e.options.root.unshift(...r),e.options.layouts.unshift(...r),e.options.partials.unshift(...r)}e.renderFile(r,s).then((e=>i(null,e)),i)}}}const Fr="10.9.4"}},t={};function r(s){var i=t[s];if(void 0!==i)return i.exports;var n=t[s]={exports:{}};return e[s](n,n.exports,r),n.exports}r.d=(e,t)=>{for(var s in t)r.o(t,s)&&!r.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var s={};(()=>{r.r(s);var e=r("./src/Modules/WidgetModule.js");window.addEventListener("load",(function(){e.WidgetModule.Init()})),window.ReInitWidget=function(t){console.log("=====>> Re-Init Widget :: "+t),e.WidgetModule.ReinitWidget(t)},window.ReinitAllWidgets=function(){console.log("=====>> Re-Init All Widgets"),e.WidgetModule.ReinitAllWidgets()}})()})();
//# sourceMappingURL=customWidget.js.map